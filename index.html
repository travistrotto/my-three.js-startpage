<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>three.js simple startpage</title>
    
    <!-- CSS Styles -->
    <style>
        html {
            box-sizing: border-box;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body { 
            margin: 0;
            background-color: #444;
        }
        .outer {            
        }
        .frame { 
            display: flex;
            width: 100vw;
            height: 100vh;
        }
        .frame>* {
            flex: 1 1 50%;
        }
        #ui {
            position: absolute;
            right: 0;
            bottom: 0;
            padding: 0.5em;
        }
        #editor {
            font-family: monospace;
            padding: 1.5em;
            background: #444444;
            color: white;
            flex-basis: 25%;
        }
        #content a {
		margin: 10px;
        }
        .disclaimer{
            color:#645969
        }
        section {
            position: absolute;
            bottom: 1vh;
            margin: auto;
        }   
        editor, a {
            color: #FFFFFF;
        }
        a:hover {
            background-color: #645969;
        }
        canvas { 
            width: 100%;
            height: 100%;
        }
    </style>
    <script>
		function display_c(){

			var refresh=1000; // Refresh rate in milli seconds
			mytime=setTimeout('display_ct()',refresh)
			}

			function display_ct() {
			var x = new Date()
			document.getElementById('ct').innerHTML = x;
			display_c();
			 }
	</script>
</head>
<body>
    <!-- Sidebar -->
    <div class="frame">
        <div id="editor">
            <p>☄︎ Welcome to the Internet</p>
            <div id="content">
                <!-- first link table -->
                <table>
                    <thead>ソーシャルメディア</thead>
                    <tbody>
                        <tr>
                            <td><a href="https://mail.google.com/" target="_blank">Gmail</a></td>
                            <td><a href="https://calendar.google.com/calendar?tab=oc" target="_blank">Calendar</a></td>
                            <td><a href="https://drive.google.com/" target="_blank">Drive</a></td>
                        </tr>
                        <tr>
                            <td><a href="https://github.com/" target="_blank">GitHub</a></td>
                            <td><a href="https://www.linkedin.com/feed/" target="_blank">LinkedIn</a></td>
                            <td><a href="https://ssologin.cuny.edu/cuny.html?resource_url=https%3A%2F%2Fbbhosted.cuny.edu%252Fwebapps%252Fportal%252Fexecute%252Ftabs%252FtabAction%3Ftab_tab_group_id%253D_49_1" target="_blank">Blackboard</a></td>
                        </tr>
                        <tr>
                            <td><a href="https://twitter.com/home?lang=en" target="_blank">Twitter</a></td>
                            <td><a href="https://www.instagram.com/" target="_blank">Instagram</a></td>
                            <td><a href="https://www.netflix.com/" target="_blank">Netflix</a></td>
                        </tr>
                    </tbody>
                </table><br>
                <!-- second link table -->
                <table>
                    <thead> 日本</thead>
                    <tbody>
                        <tr>
                            <td><a href="https://apple.com/" target="_blank">Store</a></td>
                            <td><a href="https://people.apple.com" target="_blank">People</a></td>
                            <td><a href="https://mypage.apple.com" target="_blank">myPage</a></td>
                        </tr>
                        <tr>
                            <td><a href="https://response.apple.com" target="_blank">Response</a></td>
                            <td><a href="https://cooljobs.apple.com" target="_blank">  Jobs</a></td>
                        </tr>
                    </tbody>
                </table><br>

                 <!-- third link table -->
                 <table>
                    <thead>コーディング</thead>
                    <tbody>
                        <tr>
                            <td><a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" target="_blank">three.js</a></td>
                            <td><a href="https://threejs.org/editor/" target="_blank">3D</a></td>
                            <td><a href="https://drive.google.com/" target="_blank">Drive</a></td>
                        </tr>
                    </tbody>
                </table><br>
            </div>
            <section>
                <body onload=display_ct();>
                    <span id='ct' style="color:white;font-size: 11px;"></span>
                    <!-- <hr> -->
           
                <p class="disclaimer">Click the buttons below. The only thing changing is CSS. The window size is not changing so using <code>window.addEventListener('resize', ...)</code> would fail</p>
            </section>
            <div id="ui">
                <button type="button" data-size="5%">small</button>
                <button type="button" data-size="50%">medium</button>
                <button type="button" data-size="10%">large</button>
            </div>
        </div>
        <div id="result">
            <canvas></canvas>
        </div>
    </div>

    <!-- three.js -->
    <script type="module">
    import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r132/build/three.module.js';
      
    const lighterColor = '#4A4A4A'
    const generate = Math.round((Math.random() * 3) + 1)  

    // Renderer & Canvas
    const renderer = new THREE.WebGLRenderer({alpha: true, canvas: document.querySelector("canvas")});

    // Scene
    const scene = new THREE.Scene();
    
    // Object
    // const geometry = new THREE.BoxGeometry(200, 200, 200);
    const geometry = new THREE.TorusKnotGeometry( 180, 40, 100, 16, generate);
    const material = new THREE.MeshBasicMaterial({ color: lighterColor })
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);
      
    // Sizes
    function resizeCanvasToDisplaySize() {
        const canvas = renderer.domElement;
        const width = canvas.clientWidth;
        const height = canvas.clientHeight;
      
    // you must pass false here or three.js sadly fights the browser
    renderer.setSize(width, height, false);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();

    // set render target sizes here
    }

    // Lights
    const light1 = new THREE.PointLight(0xff80C0, 2, 0);
    light1.position.set(200, 100, 300);
    scene.add(light1);

    // Camera
    const  camera = new THREE.PerspectiveCamera(70, 2, 1, 1000);
    camera.position.z = 400;
    
    // Animate
    const clock = new THREE.Clock()
    const tick = () =>
    {
        const elapsedTime = clock.getElapsedTime()

        // Rotate objects
        mesh.rotation.x = .25 * elapsedTime
        mesh.rotation.y = .5 * elapsedTime

        // Render
        renderer.render(scene, camera)
        window.requestAnimationFrame(tick)
    }
    tick()

    // Button Functions
    const editorElem = document.querySelector("#editor");
    document.querySelectorAll('button').forEach(elem => {
        elem.addEventListener('click', () => {
            editorElem.style.flexBasis = elem.dataset.size;
        });
    });

    // Resize
    const resizeObserver = new ResizeObserver(resizeCanvasToDisplaySize);
    resizeObserver.observe(renderer.domElement, {box: 'content-box'});
    </script> 
</body>
</html>